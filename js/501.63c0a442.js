"use strict";(self["webpackChunklearnwithme_app"]=self["webpackChunklearnwithme_app"]||[]).push([[501],{9501:(e,t,o)=>{o.r(t),o.d(t,{default:()=>C});var i=o(3673);const n={class:"q-pa-md"};function a(e,t,o,a,l,s){const d=(0,i.up)("q-input"),r=(0,i.up)("q-select"),u=(0,i.up)("q-editor"),c=(0,i.up)("q-btn"),p=(0,i.up)("q-form"),m=(0,i.up)("ContentPreviewComponent"),h=(0,i.up)("q-dialog"),b=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(b,null,{default:(0,i.w5)((()=>[(0,i._)("div",n,[(0,i.Wm)(p,{onSubmit:e.onSubmit,onReset:e.onReset,class:"q-gutter-md"},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{filled:"",modelValue:e.title,"onUpdate:modelValue":t[0]||(t[0]=t=>e.title=t),label:"Post Title *"},null,8,["modelValue"]),(0,i.Wm)(r,{filled:"",modelValue:e.publish_status,"onUpdate:modelValue":t[1]||(t[1]=t=>e.publish_status=t),options:e.publishOptions,label:"Status"},null,8,["modelValue","options"]),(0,i.Wm)(r,{label:"Tags",filled:"",modelValue:e.tags,"onUpdate:modelValue":t[2]||(t[2]=t=>e.tags=t),"use-input":"","use-chips":"",multiple:"","hide-dropdown-icon":"","input-debounce":"0","new-value-mode":"add-unique",style:{width:"250px"},options:e.tagOptions},null,8,["modelValue","options"]),(0,i.Wm)(u,{modelValue:e.body,"onUpdate:modelValue":t[3]||(t[3]=t=>e.body=t),dense:e.$q.screen.lt.lg,toolbar:[["save","media"],[{label:e.$q.lang.editor.align,icon:e.$q.iconSet.editor.align,fixedLabel:!0,list:"only-icons",options:["left","center","right","justify"]}],["bold","italic","strike","underline","subscript","superscript"],["hr","link","custom_btn"],[{label:e.$q.lang.editor.formatting,icon:e.$q.iconSet.editor.formatting,list:"no-icons",options:["p","h1","h2","h3","h4","h5","h6","code"]},{label:e.$q.lang.editor.fontSize,icon:e.$q.iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]},{label:e.$q.lang.editor.defaultFont,icon:e.$q.iconSet.editor.font,fixedIcon:!0,list:"no-icons",options:["default_font","arial","arial_black","comic_sans","courier_new","impact","lucida_grande","times_new_roman","verdana"]},"removeFormat"],["quote","unordered","ordered","outdent","indent"],["undo","redo"],["viewsource","fullscreen"]],fonts:{arial:"Arial",arial_black:"Arial Black",comic_sans:"Comic Sans MS",courier_new:"Courier New",impact:"Impact",lucida_grande:"Lucida Grande",times_new_roman:"Times New Roman",verdana:"Verdana"},definitions:{media:{tip:"Add media",icon:"photo",label:"Media",fixedLabel:!0,fixedIcon:!0,handler:e.addMedia}}},null,8,["modelValue","dense","toolbar","definitions"]),(0,i._)("div",null,[(0,i.Wm)(c,{label:"Submit",type:"submit",color:"primary"}),(0,i.Wm)(c,{label:"Reset",type:"reset",color:"primary",flat:"",class:"q-ml-sm"})])])),_:1},8,["onSubmit","onReset"]),(0,i.Wm)(h,{modelValue:e.medium,"onUpdate:modelValue":t[4]||(t[4]=t=>e.medium=t)},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{content:e.body},null,8,["content"])])),_:1},8,["modelValue"])])])),_:1})}var l=o(52),s=o.n(l),d=o(1959),r=o(2471),u=o(4434);function c(e,t,o,n,a,l){const s=(0,i.up)("q-card-section"),d=(0,i.up)("q-card");return(0,i.wg)(),(0,i.j4)(d,{class:"my-card"},{default:(0,i.w5)((()=>[(0,i.Wm)(s,{innerHTML:this.content},null,8,["innerHTML"])])),_:1})}const p=(0,i.aZ)({name:"ContentPreviewComponent",props:{content:{type:String,default:""}}});var m=o(151),h=o(5589),b=o(7518),g=o.n(b);p.render=c;const f=p;g()(p,"components",{QCard:m.Z,QCardSection:h.Z});const _=(0,i.aZ)({name:"Register Post",components:{ContentPreviewComponent:f},setup(){return{title:(0,d.iH)(""),publish_status:(0,d.iH)(""),body:(0,d.iH)(""),author:(0,d.iH)("")}},data(){return{isLoading:!1,accessToken:"",tags:[],tagOptions:["blog","media","photography","coding"],publishOptions:["DRAFT","PUBLIC","PRIVATE"],config:{headers:{Authorization:`Bearer ${r.Z.get("access_token")}`}},url:"https://learndottogether.herokuapp.com/api/posts",medium:!1}},methods:{onSubmit(){let e={publish_status:this.publish_status,body:this.body,title:this.title,tags:this.tags.toString(),author:this.parseJwt(r.Z.get("access_token")).id};s().post(this.url,e,this.config).then((e=>{u.Z.create({message:"Successfully Created",color:"green"})})).catch((e=>{u.Z.create({message:e.message,color:"red"})}))},addMedia(){this.medium=!0},onReset(){this.publish_status="",this.title="",this.tags=[],this.author=""},parseJwt(e){if(!e)return;const t=e.split(".")[1],o=t.replace("-","+").replace("_","/");return JSON.parse(window.atob(o))}}});var w=o(4379),q=o(8689),S=o(4842),y=o(9396),V=o(6139),v=o(2165),Z=o(6778);_.render=a;const C=_;g()(_,"components",{QPage:w.Z,QForm:q.Z,QInput:S.Z,QSelect:y.Z,QEditor:V.Z,QBtn:v.Z,QDialog:Z.Z})}}]);