"use strict";(self["webpackChunklearnwithme_app"]=self["webpackChunklearnwithme_app"]||[]).push([[812],{6812:(e,s,a)=>{a.r(s),a.d(s,{default:()=>g});var i=a(3673),l=a(2323);function n(e,s,a,n,t,o){const r=(0,i.up)("q-btn"),d=(0,i.up)("q-banner"),c=(0,i.up)("q-input"),u=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(u,null,{default:(0,i.w5)((()=>[e.isError?((0,i.wg)(),(0,i.j4)(d,{key:0,dense:"",class:"bg-red text-white"},{action:(0,i.w5)((()=>[(0,i.Wm)(r,{flat:"",color:"white",label:"Dismiss",onClick:e.dismiss},null,8,["onClick"])])),default:(0,i.w5)((()=>[(0,i.Uk)((0,l.zw)(e.error)+" ",1)])),_:1})):(0,i.kq)("",!0),e.accessToken?((0,i.wg)(),(0,i.j4)(d,{key:1,dense:"",class:"bg-primary text-white"},{action:(0,i.w5)((()=>[(0,i.Wm)(r,{flat:"",color:"white",label:"Dismiss",onClick:e.dismiss},null,8,["onClick"])])),default:(0,i.w5)((()=>[(0,i.Uk)((0,l.zw)(e.accessToken)+" ",1)])),_:1})):(0,i.kq)("",!0),(0,i.Wm)(c,{filled:"",modelValue:e.email,"onUpdate:modelValue":s[0]||(s[0]=s=>e.email=s),label:"email"},null,8,["modelValue"]),(0,i.Wm)(c,{filled:"",modelValue:e.password,"onUpdate:modelValue":s[1]||(s[1]=s=>e.password=s),label:"password"},null,8,["modelValue"]),(0,i.Wm)(r,{disable:e.isLoading,round:"",dense:"",flat:"",icon:"send",onClick:e.authenticate},null,8,["disable","onClick"])])),_:1})}var t=a(1959),o=a(52),r=a.n(o),d=a(2471);const c=(0,i.aZ)({name:"Login",setup(){return{email:(0,t.iH)(""),password:(0,t.iH)("")}},data(){return{isLoading:!1,isError:!1,error:"",accessToken:""}},methods:{authenticate(){this.isLoading=!0;let e="http://127.0.0.1:3000";r().post(e+"/api/login",{email:this.email,password:this.password}).then((e=>{this.accessToken=e.data.accessToken,d.Z.set("access_token",this.accessToken),this.isLoading=!1})).catch((e=>{this.isLoading=!1,this.isError=!0,this.error="Authentication Failed!"}))},dismiss(){this.error="",this.isError=!1}}});var u=a(4379),m=a(5607),p=a(8240),h=a(4842),w=a(7518),k=a.n(w);c.render=n;const g=c;k()(c,"components",{QPage:u.Z,QBanner:m.Z,QBtn:p.Z,QInput:h.Z})}}]);