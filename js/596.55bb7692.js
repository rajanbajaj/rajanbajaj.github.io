"use strict";(globalThis["webpackChunklearnwithme_app"]=globalThis["webpackChunklearnwithme_app"]||[]).push([[596],{5596:(e,s,a)=>{a.r(s),a.d(s,{default:()=>b});var t=a(3673);const n=(0,t._)("a",{href:"/"},"here",-1);function o(e,s,a,o,l,i){const c=(0,t.up)("q-input"),u=(0,t.up)("q-btn"),d=(0,t.up)("q-page");return e.success||e.loginStatus?((0,t.wg)(),(0,t.j4)(d,{key:1},{default:(0,t.w5)((()=>[(0,t.Uk)(" Page will refresh in 5 seconds. If not please click "),n])),_:1})):((0,t.wg)(),(0,t.j4)(d,{key:0},{default:(0,t.w5)((()=>[(0,t.Wm)(c,{filled:"",modelValue:e.email,"onUpdate:modelValue":s[0]||(s[0]=s=>e.email=s),label:"email"},null,8,["modelValue"]),(0,t.Wm)(c,{filled:"",modelValue:e.password,"onUpdate:modelValue":s[1]||(s[1]=s=>e.password=s),label:"password",type:"password"},null,8,["modelValue"]),(0,t.Wm)(u,{disable:e.isLoading,round:"",dense:"",flat:"",icon:"send",onClick:e.authenticate},null,8,["disable","onClick"])])),_:1}))}var l=a(1959),i=a(52),c=a.n(i),u=a(2471),d=a(4434);const r=(0,t.aZ)({name:"Login",setup(){return{email:(0,l.iH)(""),password:(0,l.iH)("")}},computed:{loginStatus:function(){return u.Z.has("access_token")}},data(){return{isLoading:!1,success:!1,accessToken:""}},methods:{authenticate(){this.isLoading=!0;let e="https://ec2-13-126-7-252.ap-south-1.compute.amazonaws.com:8080";c().post(e+"/api/login",{email:this.email,password:this.password}).then((e=>{this.accessToken=e.data.accessToken,u.Z.set("access_token",this.accessToken),this.isLoading=!1,this.success=!0,d.Z.create({message:"Successfully Logged In!",color:"green"}),setTimeout((()=>{window.location.href="/"}),5e3)})).catch((e=>{this.isLoading=!1,d.Z.create({message:e.message,color:"red"})}))}}});var p=a(4260),m=a(4379),h=a(4842),g=a(2165),w=a(7518),k=a.n(w);const f=(0,p.Z)(r,[["render",o]]),b=f;k()(r,"components",{QPage:m.Z,QInput:h.Z,QBtn:g.Z})}}]);