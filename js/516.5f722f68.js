"use strict";(self["webpackChunklearnwithme_app"]=self["webpackChunklearnwithme_app"]||[]).push([[516],{2601:(e,t,i)=>{i.r(t),i.d(t,{default:()=>k});var o=i(3673),s=i(2323);const l={class:"q-pa-md"};function a(e,t,i,a,n,r){const u=(0,o.up)("q-btn"),d=(0,o.up)("q-banner"),c=(0,o.up)("q-input"),p=(0,o.up)("q-select"),h=(0,o.up)("q-editor"),m=(0,o.up)("q-form"),b=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(b,null,{default:(0,o.w5)((()=>[e.isError?((0,o.wg)(),(0,o.j4)(d,{key:0,dense:"",class:"bg-red text-white"},{action:(0,o.w5)((()=>[(0,o.Wm)(u,{flat:"",color:"white",label:"Dismiss",onClick:e.dismiss},null,8,["onClick"])])),default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.error)+" ",1)])),_:1})):(0,o.kq)("",!0),(0,o._)("div",l,[(0,o.Wm)(m,{onSubmit:e.onSubmit,onReset:e.onReset,class:"q-gutter-md"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{filled:"",modelValue:e.title,"onUpdate:modelValue":t[0]||(t[0]=t=>e.title=t),label:"Post Title *","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type something"]},null,8,["modelValue","rules"]),(0,o.Wm)(p,{filled:"",modelValue:e.publish_status,"onUpdate:modelValue":t[1]||(t[1]=t=>e.publish_status=t),options:e.publishOptions,label:"Status"},null,8,["modelValue","options"]),(0,o.Wm)(p,{label:"Tags",filled:"",modelValue:e.tags,"onUpdate:modelValue":t[2]||(t[2]=t=>e.tags=t),"use-input":"","use-chips":"",multiple:"","hide-dropdown-icon":"","input-debounce":"0","new-value-mode":"add-unique",style:{width:"250px"},options:e.tagOptions},null,8,["modelValue","options"]),(0,o.Wm)(h,{modelValue:e.body,"onUpdate:modelValue":t[3]||(t[3]=t=>e.body=t),dense:e.$q.screen.lt.md,toolbar:[[{label:e.$q.lang.editor.align,icon:e.$q.iconSet.editor.align,fixedLabel:!0,list:"only-icons",options:["left","center","right","justify"]},{label:e.$q.lang.editor.align,icon:e.$q.iconSet.editor.align,fixedLabel:!0,options:["left","center","right","justify"]}],["bold","italic","strike","underline","subscript","superscript"],["token","hr","link","custom_btn"],["print","fullscreen"],[{label:e.$q.lang.editor.formatting,icon:e.$q.iconSet.editor.formatting,list:"no-icons",options:["p","h1","h2","h3","h4","h5","h6","code"]},{label:e.$q.lang.editor.fontSize,icon:e.$q.iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]},{label:e.$q.lang.editor.defaultFont,icon:e.$q.iconSet.editor.font,fixedIcon:!0,list:"no-icons",options:["default_font","arial","arial_black","comic_sans","courier_new","impact","lucida_grande","times_new_roman","verdana"]},"removeFormat"],["quote","unordered","ordered","outdent","indent"],["undo","redo"],["viewsource"]],fonts:{arial:"Arial",arial_black:"Arial Black",comic_sans:"Comic Sans MS",courier_new:"Courier New",impact:"Impact",lucida_grande:"Lucida Grande",times_new_roman:"Times New Roman",verdana:"Verdana"}},null,8,["modelValue","dense","toolbar"]),(0,o._)("div",null,[(0,o.Wm)(u,{label:"Submit",type:"submit",color:"primary"}),(0,o.Wm)(u,{label:"Reset",type:"reset",color:"primary",flat:"",class:"q-ml-sm"})])])),_:1},8,["onSubmit","onReset"])])])),_:1})}var n=i(52),r=i.n(n),u=i(1959),d=i(2471);const c=(0,o.aZ)({name:"Register Post",setup(){return{title:(0,u.iH)(""),publish_status:(0,u.iH)(""),body:(0,u.iH)(""),author:(0,u.iH)("")}},data(){return{isLoading:!1,isError:!1,error:"",accessToken:"",tags:[],tagOptions:["blog","media","photography","coding"],publishOptions:["DRAFT","PUBLISH"],config:{headers:{Authorization:`Bearer ${d.Z.get("access_token")}`}},url:"https://learndottogether.herokuapp.com/api/posts"}},methods:{onSubmit(){let e={publish_status:this.publish_status,body:this.body,title:this.title,tags:this.tags.toString(),author:this.parseJwt(d.Z.get("access_token")).id};r().post(this.url,e,this.config).then((e=>{console.log(e)})).catch((e=>{this.isError=!0,this.error=e.message}))},saveWork(){let e={publish_status:"DRAFT",body:this.body,title:this.title,tags:this.tags.toString(),author:this.parseJwt(d.Z.get("access_token")).id};r().post(this.url,e,this.config).then((e=>{console.log(e)})).catch((e=>{this.isError=!0,this.error=e.message}))},onReset(){this.publish_status="",this.title="",this.tags=[],this.author=""},dismiss(){this.error="",this.isError=!1},parseJwt(e){if(!e)return;const t=e.split(".")[1],i=t.replace("-","+").replace("_","/");return JSON.parse(window.atob(i))}}});var p=i(4379),h=i(5607),m=i(2165),b=i(8689),g=i(4842),f=i(9396),_=i(6139),w=i(7518),q=i.n(w);c.render=a;const k=c;q()(c,"components",{QPage:p.Z,QBanner:h.Z,QBtn:m.Z,QForm:b.Z,QInput:g.Z,QSelect:f.Z,QEditor:_.Z})}}]);
