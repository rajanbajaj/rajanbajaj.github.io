"use strict";(self["webpackChunklearnwithme_app"]=self["webpackChunklearnwithme_app"]||[]).push([[50],{8050:(e,s,a)=>{a.r(s),a.d(s,{default:()=>f});var t=a(3673);const n=(0,t.Uk)(" Page will refresh in 5 seconds. If not please click "),l=(0,t._)("a",{href:"/"},"here",-1);function o(e,s,a,o,i,c){const d=(0,t.up)("q-input"),u=(0,t.up)("q-btn"),r=(0,t.up)("q-page");return e.success||e.loginStatus?((0,t.wg)(),(0,t.j4)(r,{key:1},{default:(0,t.w5)((()=>[n,l])),_:1})):((0,t.wg)(),(0,t.j4)(r,{key:0},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{filled:"",modelValue:e.email,"onUpdate:modelValue":s[0]||(s[0]=s=>e.email=s),label:"email"},null,8,["modelValue"]),(0,t.Wm)(d,{filled:"",modelValue:e.password,"onUpdate:modelValue":s[1]||(s[1]=s=>e.password=s),label:"password",type:"password"},null,8,["modelValue"]),(0,t.Wm)(u,{disable:e.isLoading,round:"",dense:"",flat:"",icon:"send",onClick:e.authenticate},null,8,["disable","onClick"])])),_:1}))}var i=a(1959),c=a(52),d=a.n(c),u=a(2471),r=a(4434);const p=(0,t.aZ)({name:"Login",setup(){return{email:(0,i.iH)(""),password:(0,i.iH)("")}},computed:{loginStatus:function(){return u.Z.has("access_token")}},data(){return{isLoading:!1,success:!1,accessToken:""}},methods:{authenticate(){this.isLoading=!0;let e="https://learndottogether.herokuapp.com";d().post(e+"/api/login",{email:this.email,password:this.password}).then((e=>{this.accessToken=e.data.accessToken,u.Z.set("access_token",this.accessToken),this.isLoading=!1,this.success=!0,r.Z.create({message:"Successfully Logged In!",color:"green"}),setTimeout((()=>{window.location.href="/"}),5e3)})).catch((e=>{this.isLoading=!1,r.Z.create({message:e.message,color:"red"})}))}}});var h=a(4379),m=a(4842),g=a(2165),w=a(7518),k=a.n(w);p.render=o;const f=p;k()(p,"components",{QPage:h.Z,QInput:m.Z,QBtn:g.Z})}}]);