"use strict";(self["webpackChunklearnwithme_app"]=self["webpackChunklearnwithme_app"]||[]).push([[44],{4930:(e,t,i)=>{i.d(t,{Z:()=>u});var o=i(3673);function a(e,t,i,a,s,n){const l=(0,o.up)("q-card-section"),d=(0,o.up)("q-card");return(0,o.wg)(),(0,o.j4)(d,{class:"my-card"},{default:(0,o.w5)((()=>[(0,o.Wm)(l,{innerHTML:this.content},null,8,["innerHTML"])])),_:1})}const s=(0,o.aZ)({name:"ContentPreviewComponent",props:{content:{type:String,default:""}}});var n=i(151),l=i(5589),d=i(7518),r=i.n(d);s.render=a;const u=s;r()(s,"components",{QCard:n.Z,QCardSection:l.Z})},7044:(e,t,i)=>{i.r(t),i.d(t,{default:()=>y});var o=i(3673);const a={class:"q-pa-md"};function s(e,t,i,s,n,l){const d=(0,o.up)("q-input"),r=(0,o.up)("q-select"),u=(0,o.up)("q-editor"),c=(0,o.up)("q-btn"),p=(0,o.up)("q-form"),m=(0,o.up)("ContentPreviewComponent"),h=(0,o.up)("q-dialog"),g=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(g,null,{default:(0,o.w5)((()=>[(0,o._)("div",a,[(0,o.Wm)(p,{onSubmit:e.onSubmit,onReset:e.onReset,class:"q-gutter-md"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{filled:"",modelValue:e.title,"onUpdate:modelValue":t[0]||(t[0]=t=>e.title=t),label:"Post Title *"},null,8,["modelValue"]),(0,o.Wm)(r,{filled:"",modelValue:e.publish_status,"onUpdate:modelValue":t[1]||(t[1]=t=>e.publish_status=t),options:e.publishOptions,label:"Status"},null,8,["modelValue","options"]),(0,o.Wm)(r,{label:"Tags",filled:"",modelValue:e.tags,"onUpdate:modelValue":t[2]||(t[2]=t=>e.tags=t),"use-input":"","use-chips":"",multiple:"","hide-dropdown-icon":"","input-debounce":"0","new-value-mode":"add-unique",style:{width:"250px"},options:e.tagOptions},null,8,["modelValue","options"]),(0,o.Wm)(u,{modelValue:e.body,"onUpdate:modelValue":t[3]||(t[3]=t=>e.body=t),dense:e.$q.screen.lt.lg,toolbar:[["save","media"],[{label:e.$q.lang.editor.align,icon:e.$q.iconSet.editor.align,fixedLabel:!0,list:"only-icons",options:["left","center","right","justify"]}],["bold","italic","strike","underline","subscript","superscript"],["hr","link","custom_btn"],[{label:e.$q.lang.editor.formatting,icon:e.$q.iconSet.editor.formatting,list:"no-icons",options:["p","h1","h2","h3","h4","h5","h6","code"]},{label:e.$q.lang.editor.fontSize,icon:e.$q.iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]},{label:e.$q.lang.editor.defaultFont,icon:e.$q.iconSet.editor.font,fixedIcon:!0,list:"no-icons",options:["default_font","arial","arial_black","comic_sans","courier_new","impact","lucida_grande","times_new_roman","verdana"]},"removeFormat"],["quote","unordered","ordered","outdent","indent"],["undo","redo"],["viewsource","fullscreen"]],fonts:{arial:"Arial",arial_black:"Arial Black",comic_sans:"Comic Sans MS",courier_new:"Courier New",impact:"Impact",lucida_grande:"Lucida Grande",times_new_roman:"Times New Roman",verdana:"Verdana"},definitions:{media:{tip:"Add media",icon:"photo",label:"Media",fixedLabel:!0,fixedIcon:!0,handler:e.addMedia}}},null,8,["modelValue","dense","toolbar","definitions"]),(0,o._)("div",null,[(0,o.Wm)(c,{label:"Submit",type:"submit",color:"primary"}),(0,o.Wm)(c,{label:"Reset",type:"reset",color:"primary",flat:"",class:"q-ml-sm"})])])),_:1},8,["onSubmit","onReset"]),(0,o.Wm)(h,{modelValue:e.medium,"onUpdate:modelValue":t[4]||(t[4]=t=>e.medium=t)},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{content:e.body},null,8,["content"])])),_:1},8,["modelValue"])])])),_:1})}var n=i(52),l=i.n(n),d=i(1959),r=i(2471),u=i(4434),c=i(4930);const p=(0,o.aZ)({name:"Edit Post",components:{ContentPreviewComponent:c.Z},setup(){return{title:(0,d.iH)(""),publish_status:(0,d.iH)(""),body:(0,d.iH)(""),author:(0,d.iH)("")}},data(){let e=[];return{success:!1,post:{},isLoading:!1,accessToken:"",tags:e,tagOptions:["blog","media","photography","coding"],publishOptions:["DRAFT","PUBLIC","PRIVATE"],config:{headers:{Authorization:`Bearer ${r.Z.get("access_token")}`}},fetch_url:`http://localhost:3000/api/posts/${this.$route.params.id}`,medium:!1}},created(){this.getData()},methods:{getData(){l().get(this.fetch_url,this.config).then((e=>{this.post=e.data,this.title=e.data.title,this.body=e.data.body,this.tags=e.data.tags.split(","),this.publish_status=e.data.publish_status,this.isLoading=!1,this.success=!0})).catch((e=>{this.isLoading=!1,u.Z.create({message:e.message,color:"red"})}))},onSubmit(){let e={publish_status:this.publish_status,body:this.body,title:this.title,tags:this.tags.toString(),author:this.parseJwt(r.Z.get("access_token")).id};l().put(this.fetch_url,e,this.config).then((e=>{u.Z.create({message:"Successfully Updated",color:"green"})})).catch((e=>{u.Z.create({message:e.message,color:"red"})}))},addMedia(){this.medium=!0},onReset(){this.publish_status="",this.title="",this.tags=[],this.author=""},parseJwt(e){if(!e)return;const t=e.split(".")[1],i=t.replace("-","+").replace("_","/");return JSON.parse(window.atob(i))}}});var m=i(4379),h=i(8689),g=i(4842),b=i(9396),f=i(6139),_=i(2165),w=i(6778),q=i(7518),S=i.n(q);p.render=s;const y=p;S()(p,"components",{QPage:m.Z,QForm:h.Z,QInput:g.Z,QSelect:b.Z,QEditor:f.Z,QBtn:_.Z,QDialog:w.Z})}}]);